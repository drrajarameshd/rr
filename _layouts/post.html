<!-- _layouts/post.html — Responsive, accessible, SEO-friendly Jekyll post layout
     Theme primary color: #3368c6
     Usage: save as _layouts/post.html in your Jekyll site. Keeps existing {% seo %} tag.
-->
<!doctype html>
<html lang="en">
<head>
  {% seo %}
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  <meta name="theme-color" content="#3368c6" />

  <meta name="author" content="{{ page.author | default: site.author.name }}" />

  {%- if page.date -%}
    <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}" />
  {%- endif -%}
  {%- if page.last_modified_at -%}
    <meta property="article:modified_time" content="{{ page.last_modified_at | date_to_xmlschema }}" />
  {%- endif -%}

  <link rel="alternate" type="application/atom+xml" title="{{ site.title }} - Atom Feed" href="{{ '/atom.xml' | relative_url }}" />

  <style>
    /* Minimal, high-quality mobile-first styles for post layout
       — keep these rules small; move to assets/css/style.css for global site styles
    */
    :root{
      --primary: #3368c6;
      --bg: #ffffff;
      --muted: #6b7280;
      --max-width: 880px;
      --container-pad: 20px;
      --radius: 14px;
      --card-shadow: 0 6px 20px rgba(16,24,40,0.06);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%;background:var(--bg);color:#0f172a;margin:0}

    /* Header */
    .site-header{position:sticky;top:0;backdrop-filter: blur(6px);background:rgba(255,255,255,0.7);border-bottom:1px solid rgba(15,23,42,0.04);z-index:40}
    .wrap{max-width:var(--max-width);margin:0 auto;padding:0 var(--container-pad)}
    .header-inner{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;gap:12px;align-items:center;text-decoration:none;color:inherit}
    .brand .logo{width:36px;height:36px;border-radius:8px;background:linear-gradient(180deg,var(--primary),#2f5fb7);display:inline-flex;align-items:center;justify-content:center;color:white;font-weight:700}
    .site-title{font-weight:600}

    /* Main content */
    main.content{padding:28px 0}
    article.post{background:linear-gradient(180deg, rgba(255,255,255,0.99), rgba(255,255,255,0.98));border-radius:var(--radius);box-shadow:var(--card-shadow);overflow:hidden;padding:18px}

    .post-header{padding:12px 6px 6px}
    .post-header h1{margin:8px 0 4px;font-size:1.45rem;line-height:1.18}
    .meta{color:var(--muted);font-size:0.9rem}

    .post-body{padding:6px 6px 18px}
    .post-body :where(h2,h3){margin-top:1.4em;margin-bottom:.6em}
    .post-body p{line-height:1.65;margin:0 0 1em}
    .post-body img{max-width:100%;height:auto;border-radius:8px}
    .post-body figure{margin:0}
    .post-body blockquote{border-left:4px solid var(--primary);padding:10px 14px;margin:0 0 1rem;background:#fbfcff;border-radius:6px}
    .post-body table{width:100%;border-collapse:collapse;margin:1rem 0}
    .post-body table th,.post-body table td{border:1px solid #e6e9ef;padding:8px;text-align:left}

    /* Utility row */
    .post-actions{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-top:12px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;border:1px solid rgba(15,23,42,0.06);background:white;text-decoration:none;color:inherit;font-weight:600;font-size:0.95rem}
    .btn--primary{background:var(--primary);color:white;border:none}

    /* Footer / back link */
    .post-footer{padding-top:12px;border-top:1px dashed rgba(15,23,42,0.04);display:flex;justify-content:space-between;align-items:center}
    .back-link{font-size:0.95rem;text-decoration:none;color:var(--primary)}

    /* Bottom nav (import your include) */
    .bottom-nav{position:fixed;left:0;right:0;bottom:12px;display:flex;justify-content:center;pointer-events:none}
    .bottom-nav .nav-inner{pointer-events:auto;background:rgba(255,255,255,0.98);border-radius:999px;padding:6px 10px;box-shadow:0 10px 30px rgba(12,15,30,0.08);display:flex;gap:6px}
    .bottom-nav a{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;text-decoration:none;color:var(--muted);font-weight:600}
    .bottom-nav a.active{background:var(--primary);color:white}

    /* Wide screens */
    @media (min-width:900px){
      .wrap{padding:0}
      .header-inner{height:72px}
      main.content{padding:36px 0}
      article.post{padding:28px}
      .post-header h1{font-size:2rem}
      .bottom-nav{bottom:24px}
    }

    /* Accessibility helpers */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  {% include header.html %}

  <main class="content" id="main">
    <div class="wrap">
      <article class="post single-post" itemscope itemtype="http://schema.org/Article">
        <header class="post-header">
          <h1 itemprop="headline">{{ page.title }}</h1>
          <p class="meta">
            <time datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
              {{ page.date | date: "%B %-d, %Y" }}
            </time>
            {%- if page.author or site.author.name -%}
              • <span itemprop="author">{{ page.author | default: site.author.name }}</span>
            {%- endif -%}
          </p>
        </header>

        <div class="post-body" itemprop="articleBody">
          {{ content }}
        </div>

        <div class="post-actions wrap">
          <a class="btn" href="#share" aria-label="Share this article">Share</a>
          <a class="btn btn--primary" href="#subscribe">Subscribe</a>
        </div>

        <hr />
        <div class="post-footer wrap">
          <p><a class="back-link" href="{{ '/blog/' | relative_url }}">← Back to blog</a></p>
          <p class="meta">© <span id="year"></span> {{ site.title }}</p>
        </div>
      </article>
    </div>
  </main>

  {% include footer.html %}
  {% include bottom-nav.html %}

  <script>
    // Simple progressive enhancement — set year and improve focus handling for skip link
    document.getElementById('year')?.textContent = new Date().getFullYear();

    // When user visits post, make first heading focusable for a11y
    (function(){
      var h = document.querySelector('.post-header h1');
      if(h) h.setAttribute('tabindex','-1');
    })();
  </script>
  <script src="{{ '/assets/script/script.js' | relative_url }}"></script>
</body>
</html>

